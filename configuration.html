<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>使用指南和配置 | BPB Panel 非官方文档</title>
    <meta name="description" content="一个提供 GUI 界面的 Cloudflare Worker 代理服务器 - 非官方中文文档">
    <meta name="generator" content="VitePress v1.6.3">
    <link rel="preload stylesheet" href="/assets/style.DCtZtBA5.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.D7XXDzMD.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.DYOB0YNh.js">
    <link rel="modulepreload" href="/assets/chunks/framework.Dh1jimFm.js">
    <link rel="modulepreload" href="/assets/configuration.md.BqD7IOLp.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-40495a00><!--[--><!--]--><!--[--><span tabindex="-1" data-v-f78ddc9c></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-f78ddc9c>Skip to content</a><!--]--><!----><header class="VPNav" data-v-40495a00 data-v-c46f9779><div class="VPNavBar" data-v-c46f9779 data-v-62e62238><div class="wrapper" data-v-62e62238><div class="container" data-v-62e62238><div class="title" data-v-62e62238><div class="VPNavBarTitle has-sidebar" data-v-62e62238 data-v-66589471><a class="title" href="/" data-v-66589471><!--[--><!--]--><!----><span data-v-66589471>BPB Panel 非官方文档</span><!--[--><!--]--></a></div></div><div class="content" data-v-62e62238><div class="content-body" data-v-62e62238><!--[--><!--]--><div class="VPNavBarSearch search" data-v-62e62238><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-62e62238 data-v-e2d86fcd><span id="main-nav-aria-label" class="visually-hidden" data-v-e2d86fcd> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/" tabindex="0" data-v-e2d86fcd data-v-1918b5ec><!--[--><span data-v-1918b5ec>首页</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/configuration.html" tabindex="0" data-v-e2d86fcd data-v-1918b5ec><!--[--><span data-v-1918b5ec>使用指南</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/worker-installation.html" tabindex="0" data-v-e2d86fcd data-v-1918b5ec><!--[--><span data-v-1918b5ec>安装教程</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/faq.html" tabindex="0" data-v-e2d86fcd data-v-1918b5ec><!--[--><span data-v-1918b5ec>常见问题</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-62e62238 data-v-9e446ee5><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-9e446ee5 data-v-3d0a9511 data-v-a1eaebac><span class="check" data-v-a1eaebac><span class="icon" data-v-a1eaebac><!--[--><span class="vpi-sun sun" data-v-3d0a9511></span><span class="vpi-moon moon" data-v-3d0a9511></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-62e62238 data-v-ca7c470a data-v-e04248e5><!--[--><a class="VPSocialLink no-icon" href="https://github.com/bia-pain-bache/BPB-Worker-Panel" aria-label="github" target="_blank" rel="noopener" data-v-e04248e5 data-v-4873d852><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-62e62238 data-v-f4166282 data-v-52a30663><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-52a30663><span class="vpi-more-horizontal icon" data-v-52a30663></span></button><div class="menu" data-v-52a30663><div class="VPMenu" data-v-52a30663 data-v-1a7a705e><!----><!--[--><!--[--><!----><div class="group" data-v-f4166282><div class="item appearance" data-v-f4166282><p class="label" data-v-f4166282>Appearance</p><div class="appearance-action" data-v-f4166282><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-f4166282 data-v-3d0a9511 data-v-a1eaebac><span class="check" data-v-a1eaebac><span class="icon" data-v-a1eaebac><!--[--><span class="vpi-sun sun" data-v-3d0a9511></span><span class="vpi-moon moon" data-v-3d0a9511></span><!--]--></span></span></button></div></div></div><div class="group" data-v-f4166282><div class="item social-links" data-v-f4166282><div class="VPSocialLinks social-links-list" data-v-f4166282 data-v-e04248e5><!--[--><a class="VPSocialLink no-icon" href="https://github.com/bia-pain-bache/BPB-Worker-Panel" aria-label="github" target="_blank" rel="noopener" data-v-e04248e5 data-v-4873d852><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-62e62238 data-v-0b65f4b2><span class="container" data-v-0b65f4b2><span class="top" data-v-0b65f4b2></span><span class="middle" data-v-0b65f4b2></span><span class="bottom" data-v-0b65f4b2></span></span></button></div></div></div></div><div class="divider" data-v-62e62238><div class="divider-line" data-v-62e62238></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-40495a00 data-v-1fc9765c><div class="container" data-v-1fc9765c><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-1fc9765c><span class="vpi-align-left menu-icon" data-v-1fc9765c></span><span class="menu-text" data-v-1fc9765c>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-1fc9765c data-v-0c673359><button data-v-0c673359>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-40495a00 data-v-ecbccaaa><div class="curtain" data-v-ecbccaaa></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-ecbccaaa><span class="visually-hidden" id="sidebar-aria-label" data-v-ecbccaaa> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-328e86e1><section class="VPSidebarItem level-0 has-active" data-v-328e86e1 data-v-5c2314b8><div class="item" role="button" tabindex="0" data-v-5c2314b8><div class="indicator" data-v-5c2314b8></div><h2 class="text" data-v-5c2314b8>入门</h2><!----></div><div class="items" data-v-5c2314b8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-5c2314b8 data-v-5c2314b8><div class="item" data-v-5c2314b8><div class="indicator" data-v-5c2314b8></div><a class="VPLink link link" href="/" data-v-5c2314b8><!--[--><p class="text" data-v-5c2314b8>首页</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-5c2314b8 data-v-5c2314b8><div class="item" data-v-5c2314b8><div class="indicator" data-v-5c2314b8></div><a class="VPLink link link" href="/configuration.html" data-v-5c2314b8><!--[--><p class="text" data-v-5c2314b8>使用指南和配置</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-328e86e1><section class="VPSidebarItem level-0" data-v-328e86e1 data-v-5c2314b8><div class="item" role="button" tabindex="0" data-v-5c2314b8><div class="indicator" data-v-5c2314b8></div><h2 class="text" data-v-5c2314b8>安装方法</h2><!----></div><div class="items" data-v-5c2314b8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-5c2314b8 data-v-5c2314b8><div class="item" data-v-5c2314b8><div class="indicator" data-v-5c2314b8></div><a class="VPLink link link" href="/worker-installation.html" data-v-5c2314b8><!--[--><p class="text" data-v-5c2314b8>Worker 安装</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-5c2314b8 data-v-5c2314b8><div class="item" data-v-5c2314b8><div class="indicator" data-v-5c2314b8></div><a class="VPLink link link" href="/pages-upload-installation.html" data-v-5c2314b8><!--[--><p class="text" data-v-5c2314b8>Pages 安装</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-5c2314b8 data-v-5c2314b8><div class="item" data-v-5c2314b8><div class="indicator" data-v-5c2314b8></div><a class="VPLink link link" href="/wizard-installation.html" data-v-5c2314b8><!--[--><p class="text" data-v-5c2314b8>向导安装</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-328e86e1><section class="VPSidebarItem level-0" data-v-328e86e1 data-v-5c2314b8><div class="item" role="button" tabindex="0" data-v-5c2314b8><div class="indicator" data-v-5c2314b8></div><h2 class="text" data-v-5c2314b8>其他</h2><!----></div><div class="items" data-v-5c2314b8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-5c2314b8 data-v-5c2314b8><div class="item" data-v-5c2314b8><div class="indicator" data-v-5c2314b8></div><a class="VPLink link link" href="/faq.html" data-v-5c2314b8><!--[--><p class="text" data-v-5c2314b8>常见问题</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-40495a00 data-v-43fdbc3b><div class="VPDoc has-sidebar has-aside" data-v-43fdbc3b data-v-bd3b174b><!--[--><!--]--><div class="container" data-v-bd3b174b><div class="aside" data-v-bd3b174b><div class="aside-curtain" data-v-bd3b174b></div><div class="aside-container" data-v-bd3b174b><div class="aside-content" data-v-bd3b174b><div class="VPDocAside" data-v-bd3b174b data-v-cf9ad723><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-cf9ad723 data-v-5420c5ae><div class="content" data-v-5420c5ae><div class="outline-marker" data-v-5420c5ae></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-5420c5ae>On this page</div><ul class="VPDocOutlineItem root" data-v-5420c5ae data-v-fc4e2633><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-cf9ad723></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-bd3b174b><div class="content-container" data-v-bd3b174b><!--[--><!--]--><main class="main" data-v-bd3b174b><div style="position:relative;" class="vp-doc _configuration" data-v-bd3b174b><div><h1 id="使用指南和配置" tabindex="-1">使用指南和配置 <a class="header-anchor" href="#使用指南和配置" aria-label="Permalink to &quot;使用指南和配置&quot;">​</a></h1><div class="warning custom-block"><p class="custom-block-title">免责声明</p><p>本文档是由社区成员创建的非官方中文文档，并非由 BPB Panel 官方团队开发或维护。文档内容基于原始法语文档翻译而来，仅供参考。如有任何差异，请以官方文档为准。</p></div><p>本文档将详细介绍 BPB Panel 的使用方法和各项配置选项。</p><h2 id="访问面板" tabindex="-1">访问面板 <a class="header-anchor" href="#访问面板" aria-label="Permalink to &quot;访问面板&quot;">​</a></h2><p>假设您的 worker 或 pages 名称为 <code>worker-polished-leaf-d022</code>：</p><p>您可以通过在其末尾添加 <code>panel/</code> 来访问面板，如下所示：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>https://worker-polished-leaf-d022.workers.dev/panel</span></span></code></pre></div><p>首次访问时，系统会要求您设置新密码并登录。</p><div class="warning custom-block"><p class="custom-block-title">重要提示</p><p>密码必须至少包含 <strong>8 个字符</strong>，并且至少包含一个 <strong>大写字母</strong> 和一个 <strong>数字</strong>。您也可以在面板底部更改密码。</p></div><p>接下来，让我们了解面板的各个部分。</p><h2 id="_1-normal-订阅" tabindex="-1">1. Normal 订阅 <a class="header-anchor" href="#_1-normal-订阅" aria-label="Permalink to &quot;1. Normal 订阅&quot;">​</a></h2><p><img src="/images/Normal-Configs.jpg" alt="Normal 配置"></p><p>这部分提供了不使用 Fragment 的基本配置。请注意，您需要了解如何在应用程序中设置这些配置，否则可能会遇到问题。建议使用 <code>Full Normal</code> 订阅，因为它们已经应用了所有面板设置，无需额外配置。请注意，面板的路由规则、链式代理和 DNS 设置不会应用于这些订阅（需要在应用程序中手动设置）。</p><p>此链接提供 6 个配置（您可以通过清洁 IP、端口和协议设置增加配置数量）。这 6 个配置有什么区别？</p><ul><li><strong>Websocket 路径</strong>：每个配置都有不同的路径。</li><li><strong>配置地址</strong>：第一个使用您的 worker 域名，第二个使用 www.speedtest.net（在大多数运营商上都很稳定），第 3-6 个使用您域名的 IP 地址（通常也很稳定）。其中包括两个 IPv4 和两个 IPv6 地址。</li></ul><p>如何增加配置数量？详细说明请参阅 <a href="#1-4-清洁-ip-设置">清洁 IP 设置</a>、<a href="#1-9-端口选择">端口设置</a>、<a href="#1-8-协议选择">协议选择</a> 和 <a href="#1-6-自定义-cdn-设置">自定义 CDN 设置</a> 部分。</p><div class="danger custom-block"><p class="custom-block-title">注意</p><p>使用这些订阅时，请在您使用的任何应用程序中禁用 Mux 功能。</p></div><div class="warning custom-block"><p class="custom-block-title">警告</p><p>使用此 Worker 会定期更改您设备的 IP 地址，因此不要将其用于交易、PayPal 或 Hetzner 等对 IP 敏感的网站，否则可能会被封禁。我们提供了两种解决方案来固定 IP：<a href="#1-2-代理-ip-设置">设置代理 IP</a> 和 <a href="#1-3-链式代理设置">使用链式代理</a>。</p></div><h2 id="_2-full-normal-订阅" tabindex="-1">2. Full Normal 订阅 <a class="header-anchor" href="#_2-full-normal-订阅" aria-label="Permalink to &quot;2. Full Normal 订阅&quot;">​</a></h2><p><img src="/images/Full-Normal-Configs.jpg" alt="Full Normal 配置"></p><p>此订阅提供与上面相同的配置，但区别在于它应用了面板 VLESS/Trojan 部分的所有设置（您可以在 <a href="#1-1-vlesstrojan-设置">这里</a> 了解更多信息）。此外，这些订阅还包含 <strong>Best Ping</strong> 配置（稍后解释）。</p><p>通过应用路由设置，它可以阻止约 90% 的国内外广告，绕过中国和伊朗网站（无需为支付网关等关闭 VPN），绕过 LAN，阻止色情内容和 QUIC，并且 Sing-box 订阅还能很好地阻止钓鱼和恶意软件内容。</p><div class="tip custom-block"><p class="custom-block-title">提示</p><p><strong>Best Ping</strong> 配置是什么？这个配置合并了面板中的所有配置，每 30 秒检查一次哪个配置速度最快，然后连接到最佳配置！如果您添加了清洁 IP、启用了 Trojan 协议或选择了其他端口，它们也会添加到 Best Ping 中。在 Fragment 和 Warp 订阅中也有这种类型的配置。</p></div><h2 id="_3-fragment-订阅" tabindex="-1">3. Fragment 订阅 <a class="header-anchor" href="#_3-fragment-订阅" aria-label="Permalink to &quot;3. Fragment 订阅&quot;">​</a></h2><p><img src="/images/Fragment-Sub.jpg" alt="Fragment 订阅"></p><div class="info custom-block"><p class="custom-block-title">Fragment 配置的优势</p><ol><li>即使您的个人域名或 worker 被封锁，也能保持连接</li><li>在所有运营商上提高质量和速度，特别是在 Cloudflare 上有干扰的运营商</li></ol></div><h3 id="_3-1-xray-的-fragment-订阅" tabindex="-1">3-1. Xray 的 Fragment 订阅 <a class="header-anchor" href="#_3-1-xray-的-fragment-订阅" aria-label="Permalink to &quot;3-1. Xray 的 Fragment 订阅&quot;">​</a></h3><p>这是为使用 Xray 内核的程序设计的，实际上是 Fragment SUB 表中的第一行，导入应用程序的方式与普通订阅相同。这些配置名称中包含 <code>F</code>。</p><p>此订阅提供与 Full Normal 订阅相同数量的配置，但使用 Fragment（使用您在面板中应用的 Fragment 设置），并额外提供 <strong>Best Fragment</strong> 和 <strong>Workerless</strong> 配置。您在面板中进行的任何设置更改都会在更新订阅时应用到所有配置。</p><div class="tip custom-block"><p class="custom-block-title">提示</p><p>Workerless 配置无需 worker 即可访问许多被封锁的网站和应用程序！如 YouTube、Twitter、Google Play 等。请注意，由于此配置不使用 worker，它不会更改您的 IP 地址，因此不适合安全任务。您在面板中为 Fragment 所做的更改也会应用于此配置，但链式代理除外。</p><p>Best Fragment 配置应用 18 种不同的 Fragment 值，并根据您的运营商选择性能最佳的值！这 18 种模式的选择确保覆盖所有范围，配置每分钟测试一次所有小范围和大范围，并连接到最佳选项。</p></div><p>有关 Fragment 的高级设置在 <a href="#4-2-fragment-设置">这里</a> 有详细说明。</p><h3 id="_3-2-hiddify-的-fragment-订阅" tabindex="-1">3-2. Hiddify 的 Fragment 订阅 <a class="header-anchor" href="#_3-2-hiddify-的-fragment-订阅" aria-label="Permalink to &quot;3-2. Hiddify 的 Fragment 订阅&quot;">​</a></h3><p>Fragment SUB 表中的第二行是为 Hiddify 应用程序设计的，但有一个区别。由于该应用程序的限制，面板的许多设置不会应用于此订阅，实际上应用程序会重写这些设置。这些配置名称中也包含 <code>F</code>。您需要在 Hiddify 应用程序中手动应用以下设置，目前无法从面板应用：</p><ol><li>远程 DNS</li><li>本地 DNS</li><li>Fragment 数据包</li><li>路由规则</li></ol><div class="danger custom-block"><p class="custom-block-title">注意</p><ol><li><p>请务必从应用程序设置中将远程 DNS 更改为 DOH，例如： <a href="https://8.8.8.8/dns-query" target="_blank" rel="noreferrer">https://8.8.8.8/dns-query</a> 或 <a href="https://94.140.14.14/dns-query" target="_blank" rel="noreferrer">https://94.140.14.14/dns-query</a> 如果您在此部分使用 ...//:udp 或纯 IP，您的 worker 将无法工作。</p></li><li><p>如果您在应用程序中手动启用了 Fragment，面板的 Fragment 设置将不会应用。</p></li></ol></div><p>另一种方法是将普通订阅导入 Hiddify 应用程序，然后如下图所示手动启用 Fragment：</p><p><img src="/images/Hiddify_fragment.jpg" alt="Hiddify Fragment"></p><h2 id="_4-warp-订阅" tabindex="-1">4. Warp 订阅 <a class="header-anchor" href="#_4-warp-订阅" aria-label="Permalink to &quot;4. Warp 订阅&quot;">​</a></h2><p><img src="/images/Warp-Configs.jpg" alt="Warp 配置"></p><p>此订阅提供一个 Warp 配置（IP 为伊朗的 Cloudflare IP）和一个 Warp on Warp（简称 WoW）配置（IP 为国外，但由于 Cloudflare 的变化，有时可能会提供伊朗 IP）。还有一个 Warp Best Ping 配置，它连接到最快的 Warp 配置，始终具有伊朗 IP，以及一个 WoW Best Ping 配置，它连接到最快的 WoW 配置，具有国外 IP。</p><p>默认情况下，只有一个 Warp 和一个 WoW 配置，但如果您编辑 Endpoints 部分，Warp 和 WoW 配置的数量将根据输入的 Endpoint 数量增加。</p><p>您还可以下载 Warp 配置的 zip 文件，进入 Wireguard 应用程序，导入下载的 zip 文件。请注意，伊朗的大多数运营商已阻止 Warp，仅当您的运营商允许 Wireguard 时才使用此应用程序。</p><p>请务必使用扫描器在您的运营商上找到合适的 Endpoint。面板中有扫描器脚本，复制它并在 Android 上的 Termux 中运行。有关在面板中设置的信息，请阅读高级设置部分 7-4。普通 Warp 订阅可能在某些运营商（如 Irancell）上运行良好，但对于其他运营商，请使用 Warp Pro 订阅。</p><h2 id="_5-warp-pro-订阅" tabindex="-1">5. Warp PRO 订阅 <a class="header-anchor" href="#_5-warp-pro-订阅" aria-label="Permalink to &quot;5. Warp PRO 订阅&quot;">​</a></h2><p><img src="/images/Warp-Pro-Configs.jpg" alt="Warp Pro 配置"></p><p>GFW-Knocker 和 Hiddify 团队在 Xray 和 Singbox 内核上进行了新的开发，结果是 MahsaNG、NikaNG、v2rayN-PRO 和 Hiddify 应用程序，使我们能够为伊朗的条件优化 Warp 连接，类似于 Oblivion 所做的工作。因此，我在面板中添加了 WARP PRO SUB，可以通过 WARP PRO SETTINGS 部分进行自定义。</p><p>每个运营商的最佳值是通过经验确定的，就像 Fragment 设置一样，它们在不同时间可能也会有所不同，但默认值已经过测试，目前运行良好，您只需设置合适的 Endpoint。</p><div class="danger custom-block"><p class="custom-block-title">注意</p><p>Hiddify 应用程序的版本必须至少为 2.0.5。</p></div><p>您还可以下载 Pro 配置的 zip 文件，进入 WG Tunnel 应用程序，点击 +，选择下载的 zip 文件，无需任何特殊设置，配置将连接。对于 Amnezia，步骤相同，但该应用程序无法正确读取 zip 文件，下载 zip 文件后，先解压，然后将所需的配置导入 Amnezia 并连接。</p><h2 id="my-ip-表格" tabindex="-1">My IP 表格 <a class="header-anchor" href="#my-ip-表格" aria-label="Permalink to &quot;My IP 表格&quot;">​</a></h2><p><img src="/images/My-IP.jpg" alt="My IP"></p><p>连接到代理后，您可以刷新页面并查看此表格，了解您的 IP 地址。该表格有两行：第一行显示您在 Cloudflare 地址上的 IP。如果您有代理 IP，您在 Cloudflare 地址上的 IP 将是该代理 IP，对于其他地址，将是随机的 Cloudflare IP。这样，您可以检查所选的代理 IP 是否已应用。如果您连接到 Warp 配置，表格的两行应显示相同的 IP。请注意，为了使此部分正常工作，如果您使用 uBlock Origin 扩展，您需要禁用它。</p><h2 id="高级设置" tabindex="-1">高级设置 <a class="header-anchor" href="#高级设置" aria-label="Permalink to &quot;高级设置&quot;">​</a></h2><p>首先，如果您进行了任何错误的更改，请不要担心，在 APPLY SETTINGS 按钮旁边有一个 Reset 按钮，可将面板恢复为默认设置。</p><h3 id="_1-1-vless-trojan-设置" tabindex="-1">1-1. VLESS/TROJAN 设置 <a class="header-anchor" href="#_1-1-vless-trojan-设置" aria-label="Permalink to &quot;1-1. VLESS/TROJAN 设置&quot;">​</a></h3><p><img src="/images/VLESS_Trojan_settings.jpg" alt="VLESS/Trojan 设置"></p><p>此部分用于 Fragment 配置和 Clash 与 Singbox 订阅的设置，对普通 v2ray 部分的配置和 Warp 订阅没有影响。</p><h4 id="dns-服务器" tabindex="-1">DNS 服务器 <a class="header-anchor" href="#dns-服务器" aria-label="Permalink to &quot;DNS 服务器&quot;">​</a></h4><p>默认情况下，我为远程 DNS 设置了 Google DOH，为本地 DNS 设置了 Google DNS。即默认配置为：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>远程 DNS: https://8.8.8.8/dns-query</span></span>
<span class="line"><span>本地 DNS: 8.8.8.8</span></span></code></pre></div><div class="danger custom-block"><p class="custom-block-title">注意</p><p>请勿将 <code>https://1.1.1.1/dns-query</code> 或 <code>https://cloudflare-dns.com/dns-query</code> 用于远程 DNS，因为它会增加延迟并使连接不稳定。</p></div><div class="tip custom-block"><p class="custom-block-title">提示</p><p>从版本 2.5.5 开始，您可以使用官方的 DOH 或 DOT，并确信它们具有最佳性能，例如：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>https://dns.google/dns-query</span></span>
<span class="line"><span>https://dns.adguard-dns.com/dns-query</span></span>
<span class="line"><span>https://dns.quad9.net/dns-query</span></span>
<span class="line"><span>tls://dns.google</span></span></code></pre></div></div><p>您还可以启用 Fake DNS，它有助于提高 DNS 速度，但请注意，它可能与某些应用程序不兼容，或者可能影响系统 DNS，因此如果您不确切知道它是什么，最好不要启用它。</p><h3 id="_1-2-代理-ip-设置" tabindex="-1">1-2. 代理 IP 设置 <a class="header-anchor" href="#_1-2-代理-ip-设置" aria-label="Permalink to &quot;1-2. 代理 IP 设置&quot;">​</a></h3><p>从版本 2.3.5 开始，您也可以通过面板本身更改代理 IP，只需应用更改并更新订阅即可。但我建议使用旧的 Cloudflare 仪表板方法，因为：</p><div class="danger custom-block"><p class="custom-block-title">注意</p><p>如果您通过面板应用代理 IP，而该 IP 停止工作，您需要替换它并更新订阅。这意味着，如果您已经分享了配置，更改代理 IP 将不再有用，因为用户没有订阅来更新配置。因此，建议仅将此方法用于个人使用。旧方法的优点是无需更新配置。</p></div><p>例如，您可以从以下链接选择代理 IP，它显示一些 IP，您可以检查它们的国家并选择一个或多个：</p><p><a href="https://www.nslookup.io/domains/bpb.yousef.isegaro.com/dns-records/" target="_blank" rel="noreferrer">代理 IP</a></p><div class="tip custom-block"><p class="custom-block-title">提示</p><p>如果您想要多个代理 IP，可以像下图所示输入它们。</p></div><h3 id="_1-3-链式代理设置" tabindex="-1">1-3. 链式代理设置 <a class="header-anchor" href="#_1-3-链式代理设置" aria-label="Permalink to &quot;1-3. 链式代理设置&quot;">​</a></h3><p>我们之前提到，您可以设置一个代理 IP 并为 Cloudflare 后面的网站固定 IP，但当我们访问普通网站时，我们的 IP 仍然属于 worker，它会定期更改。为了完全固定所有网站的 IP，添加了此部分。我们可以在此部分放置一个免费的 VLESS、Socks 或 Http 配置（即使它在伊朗被封锁，只要它在伊朗以外的地方工作），我们的 IP 将永久固定为该配置的 IP。</p><div class="danger custom-block"><p class="custom-block-title">注意</p><ol><li><p>此配置本身不应该是 worker，否则您的最终 IP 仍会更改。</p></li><li><p>有很多免费配置的来源，我推荐 <a href="https://racevpn.com" target="_blank" rel="noreferrer">racevpn.com</a>，尽管它有时间限制，您可以根据国家获取配置。您也可以使用 <a href="https://ircfspace.github.io/tconfig/" target="_blank" rel="noreferrer">IRCF</a> 的配置或 Telegram 机器人 <a href="https://t.me/TheTVCbot" target="_blank" rel="noreferrer">TheTVCbot</a>，但其中一些配置可能已停止工作。</p></li><li><p>VLESS 配置可以是以下类型之一：</p><ul><li>Reality TCP</li><li>Reality GRPC</li><li>Reality WS</li><li>Reality TCP Header</li><li>WS TLS</li><li>GRPC TLS</li><li>TCP TLS</li><li>WS</li><li>GRPC</li><li>TCP</li><li>TCP Header</li></ul></li><li><p>Socks 配置可以是以下形式之一：</p><ul><li>socks://address:port</li><li>socks://user:pass@address:port</li></ul></li><li><p>Http 配置可以是以下形式之一：</p><ul><li><a href="http://address" target="_blank" rel="noreferrer">http://address</a>:port</li><li><a href="http://user:pass@address" target="_blank" rel="noreferrer">http://user:pass@address</a>:port</li></ul></li><li><p>此部分仅应用于除 Normal 表第一行和 Warp 订阅外的所有订阅，应用后请务必更新订阅。但 Normal 订阅会单独提供该配置。例如，您可以在 Nekobox 或 Husi 应用程序中编辑订阅的 Group 部分，将此配置设置为 Landing Proxy，这样订阅就会链接。最近，v2rayNG 应用程序从版本 1.9.1 开始也添加了此功能，您需要复制配置名称，转到 Subscription group setting，编辑您的订阅，并在 <code>Next proxy remarks</code> 部分粘贴名称。</p></li></ol></div><div class="warning custom-block"><p class="custom-block-title">重要提示</p><ol><li><p>如果您使用 VLESS TLS 配置进行链接，其端口必须为 443，否则面板将不允许。</p></li><li><p>具有 randomized alpn 值的 VLESS 配置在 Clash 上不起作用，因为它不支持。</p></li><li><p>VLESS WS 配置不适合在 Sing-box 上链接，有 bug。</p></li></ol></div><h3 id="_1-4-清洁-ip-设置" tabindex="-1">1-4. 清洁 IP 设置 <a class="header-anchor" href="#_1-4-清洁-ip-设置" aria-label="Permalink to &quot;1-4. 清洁 IP 设置&quot;">​</a></h3><p>普通订阅链接（无 Fragment）提供 6 个配置。在这里，您可以增加配置数量。还有一个扫描器，您可以根据操作系统下载 zip 文件，解压后运行 CloudflareScanner 文件，测试完成后，结果将保存在 result.csv 文件中，您可以根据延迟和下载速度进行选择，建议在 Windows 上进行测试，测试时请确保 VPN 已断开连接。通常情况下，它会提供良好的 IP，但对于高级扫描，请阅读 <a href="https://github.com/bia-pain-bache/Cloudflare-Clean-IP-Scanner/blob/master/README.md" target="_blank" rel="noreferrer">此处</a> 的指南。</p><div class="tip custom-block"><p class="custom-block-title">提示</p><p>在支持 IPv6 的运营商（如 Rightel、Irancell 和 Asiatech）上，首先在 SIM 卡上启用 IPv6，然后在 V2RayNG 设置中启用 Prefer IPv6 选项，并使用这 6 个配置中的最后两个或地址是您自己域名的那个。一般来说，始终点击一次 Real delay all configuration，并使用最佳的那个连接。</p></div><p>面板提供的 6 个默认配置都是清洁 IP，此外，如果您使用 Fragment 配置，清洁 IP 的重要性就不那么大了，但某些运营商（如 Telecommunication）在普通配置上仍然需要清洁 IP。</p><p>现在，如果您想除了那 6 个配置外添加更多使用您自己的清洁 IP 的配置，请按照图片所示逐行输入您的清洁 IP 或域名，然后点击 Apply。</p><p>现在，如果您在应用程序中点击 Update subscription，您将看到新配置已添加。</p><p>此外，这些新配置也会同时添加到 Fragment 部分。</p><div class="danger custom-block"><p class="custom-block-title">注意</p><p>应用后请务必更新订阅。</p></div><h3 id="_1-5-启用-ipv6" tabindex="-1">1-5. 启用 IPv6 <a class="header-anchor" href="#_1-5-启用-ipv6" aria-label="Permalink to &quot;1-5. 启用 IPv6&quot;">​</a></h3><p>面板默认也提供 IPv6 配置，但如果您的运营商不支持，您可以禁用它以简化配置并优化 DNS 设置。</p><h3 id="_1-6-自定义-cdn-设置" tabindex="-1">1-6. 自定义 CDN 设置 <a class="header-anchor" href="#_1-6-自定义-cdn-设置" aria-label="Permalink to &quot;1-6. 自定义 CDN 设置&quot;">​</a></h3><p>我们有三个称为 Custom CDN 的字段，用于当您将 Worker 域名放在另一个 CDN（如 Fastly、Gcore 或任何其他 CDN）后面时。这三个部分依次是：</p><ol><li><p><code>Custom Addr</code> 部分实际上相当于 Cloudflare 的 IP 或清洁 IP。但对于您在此处使用的任何 CDN，您必须使用其自己的 IP，不能为 Fastly 或 Gcore 使用 Cloudflare IP。与我们之前的清洁 IP 一样，您可以逐行添加域名、IPv4 或 IPv6，请注意 IPv6 必须放在 [ ] 之间，例如：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>[2a04:4e42:200::731]</span></span></code></pre></div></li><li><p><code>Custom Host</code> 部分应该是您在该 CDN 中定义的指向您的 worker 的主机。例如，在 Fastly 中，可以定义一个虚假的域名地址。</p></li><li><p><code>Custom SNI</code> 部分可以是该虚假域名，也可以是该 CDN 上的网站。例如，speedtest.net 网站（不带 www）在 Fastly CDN 上。</p></li></ol><p>设置此部分后，配置将添加到 Normal 订阅中，包括所有 Sing-box、Clash 和 v2ray 订阅等。这些配置名称中包含 <code>C</code>，以区别于其他配置。</p><div class="warning custom-block"><p class="custom-block-title">重要提示</p><p>目前，只有端口 443 和 80 的配置可以使用此方法连接。</p></div><div class="tip custom-block"><p class="custom-block-title">提示</p><p>这些配置出现在 Normal 和 Full Normal 订阅中。但如果您使用 Normal 订阅，您需要从配置设置中手动启用 Allow Insecure。Full Normal 会自动应用此设置。</p></div><h3 id="_1-7-best-ping-检查时间" tabindex="-1">1-7. Best Ping 检查时间 <a class="header-anchor" href="#_1-7-best-ping-检查时间" aria-label="Permalink to &quot;1-7. Best Ping 检查时间&quot;">​</a></h3><p>在所有 Fragment、Sing-box 和 Clash 订阅中，我们都有 Best Ping。默认情况下，它每 30 秒检查一次最佳配置或 Fragment 值，并连接到它，但如果您的网络速度不佳，并且您正在观看视频或玩游戏，这 30 秒可能会造成问题，导致延迟体验。从这里，您可以调整时间，最短可以是 10 秒，最长可以是 90 秒。</p><h3 id="_1-8-协议选择" tabindex="-1">1-8. 协议选择 <a class="header-anchor" href="#_1-8-协议选择" aria-label="Permalink to &quot;1-8. 协议选择&quot;">​</a></h3><p>您可以启用一个或两个 VLESS 和 Trojan 协议。</p><div class="danger custom-block"><p class="custom-block-title">注意</p><p>这两种协议在 Cloudflare 上不能很好地支持 UDP 连接，因此例如 Telegram 语音通话将无法工作。此外，您不能使用 UDP DNS 作为远程 DNS，如果您在程序中看到远程 DNS 是像 1.1.1.1 这样的 IP 或类似 udp://1.1.1.1 的东西，您将遇到问题。请务必使用以下格式：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>https://IP/dns-query 如 https://8.8.8.8/dns-query, https://94.140.14.14/dns-query ....</span></span>
<span class="line"><span>https://doh/dns-query 如 https://dns.google/dns-query, https://cloudflare-dns.com/dns-query ....</span></span>
<span class="line"><span>tcp://IP 如 tcp://8.8.8.8, tcp://94.140.14.14 ....</span></span>
<span class="line"><span>tls://IP 如 tls://dns.google, tls://cloudflare-dns.com ....</span></span></code></pre></div></div><h3 id="_1-9-端口选择" tabindex="-1">1-9. 端口选择 <a class="header-anchor" href="#_1-9-端口选择" aria-label="Permalink to &quot;1-9. 端口选择&quot;">​</a></h3><p>从此部分，您可以选择所需的端口。其中一些提供 TLS 配置，更安全，但当 TLS 和 Fragment 受到干扰时，这些配置可以连接。</p><div class="danger custom-block"><p class="custom-block-title">注意</p><p>请注意，要使用非 TLS 配置，您必须使用 Workers 部署方法。否则，http 端口不会在面板中显示，因为它们不适用于 Pages 方法。</p></div><div class="tip custom-block"><p class="custom-block-title">提示</p><p>非 TLS 配置仅添加到普通订阅中。</p></div><h2 id="_4-2-fragment-设置" tabindex="-1">4-2. Fragment 设置 <a class="header-anchor" href="#_4-2-fragment-设置" aria-label="Permalink to &quot;4-2. Fragment 设置&quot;">​</a></h2><p><img src="/images/Fragment-Settings.jpg" alt="Fragment 设置"></p><p>默认设置为：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Length: 100-200</span></span>
<span class="line"><span>Interval: 1-1</span></span>
<span class="line"><span>Packets: tlshello</span></span></code></pre></div><p>现在，您可以调整参数并点击 Apply。这样，Fragment 配置将使用您的设置提供。</p><div class="info custom-block"><p class="custom-block-title">注意</p><p>您可以更改一个参数或同时更改所有参数。您所做的任何更改都会保存，下次无需重新设置。</p></div><div class="warning custom-block"><p class="custom-block-title">重要提示</p><p>Fragment 值有最大限制，Length 不能超过 500，Interval 不能超过 30。</p></div></div></div></main><footer class="VPDocFooter" data-v-bd3b174b data-v-447539dd><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-447539dd><span class="visually-hidden" id="doc-footer-aria-label" data-v-447539dd>Pager</span><div class="pager" data-v-447539dd><a class="VPLink link pager-link prev" href="/" data-v-447539dd><!--[--><span class="desc" data-v-447539dd>Previous page</span><span class="title" data-v-447539dd>首页</span><!--]--></a></div><div class="pager" data-v-447539dd><a class="VPLink link pager-link next" href="/worker-installation.html" data-v-447539dd><!--[--><span class="desc" data-v-447539dd>Next page</span><span class="title" data-v-447539dd>Worker 安装</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-40495a00 data-v-c64a35a5><div class="container" data-v-c64a35a5><p class="message" data-v-c64a35a5>基于 Creative Commons 许可发布 | 非官方中文文档</p><p class="copyright" data-v-c64a35a5>BPB Panel 和其图标的版权为 © 2023-present BPB Worker Panel，本文档的版权为 © 2025 NT</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"configuration.md\":\"BqD7IOLp\",\"faq.md\":\"BWRVraVF\",\"index.md\":\"D273n3cG\",\"pages-upload-installation.md\":\"DQf_R47S\",\"wizard-installation.md\":\"BqMX-K5q\",\"worker-installation.md\":\"CdZe5fVf\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"zh-CN\",\"dir\":\"ltr\",\"title\":\"BPB Panel 非官方文档\",\"description\":\"一个提供 GUI 界面的 Cloudflare Worker 代理服务器 - 非官方中文文档\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"首页\",\"link\":\"/\"},{\"text\":\"使用指南\",\"link\":\"/configuration\"},{\"text\":\"安装教程\",\"link\":\"/worker-installation\"},{\"text\":\"常见问题\",\"link\":\"/faq\"}],\"sidebar\":[{\"text\":\"入门\",\"items\":[{\"text\":\"首页\",\"link\":\"/\"},{\"text\":\"使用指南和配置\",\"link\":\"/configuration\"}]},{\"text\":\"安装方法\",\"items\":[{\"text\":\"Worker 安装\",\"link\":\"/worker-installation\"},{\"text\":\"Pages 安装\",\"link\":\"/pages-upload-installation\"},{\"text\":\"向导安装\",\"link\":\"/wizard-installation\"}]},{\"text\":\"其他\",\"items\":[{\"text\":\"常见问题\",\"link\":\"/faq\"}]}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/bia-pain-bache/BPB-Worker-Panel\"}],\"footer\":{\"message\":\"基于 Creative Commons 许可发布 | 非官方中文文档\",\"copyright\":\"BPB Panel 和其图标的版权为 © 2023-present BPB Worker Panel，本文档的版权为 © 2025 NT\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>